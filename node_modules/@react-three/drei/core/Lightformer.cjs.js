"use strict";var e=require("@babel/runtime/helpers/extends"),r=require("@react-three/fiber"),t=require("react"),a=require("three");function n(e){var r=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var a=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,a.get?a:{enumerable:!0,get:function(){return e[t]}})}})),r.default=e,Object.freeze(r)}var c=n(t),l=n(a);const i=c.forwardRef((({args:t,map:a,toneMapped:n=!1,color:i="white",form:o="rect",intensity:u=1,scale:s=1,target:m,children:f,...p},y)=>{const g=c.useRef(null);return c.useImperativeHandle(y,(()=>g.current),[]),c.useLayoutEffect((()=>{f||p.material||(r.applyProps(g.current.material,{color:i}),g.current.material.color.multiplyScalar(u))}),[i,u,f,p.material]),c.useLayoutEffect((()=>{m&&g.current.lookAt(Array.isArray(m)?new l.Vector3(...m):m)}),[m]),s=Array.isArray(s)&&2===s.length?[s[0],s[1],1]:s,c.createElement("mesh",e({ref:g,scale:s},p),"circle"===o?c.createElement("ringGeometry",{args:[0,1,64]}):"ring"===o?c.createElement("ringGeometry",{args:[.5,1,64]}):"rect"===o?c.createElement("planeGeometry",null):c.createElement(o,{args:t}),f||(p.material?null:c.createElement("meshBasicMaterial",{toneMapped:n,map:a,side:l.DoubleSide})))}));exports.Lightformer=i;
