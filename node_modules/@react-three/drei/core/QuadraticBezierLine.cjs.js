"use strict";var e=require("@babel/runtime/helpers/extends"),t=require("react"),r=require("three"),n=require("./Line.cjs.js");function c(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}require("@react-three/fiber"),require("three-stdlib");var o=c(t);const s=new r.Vector3,i=o.forwardRef((function({start:t=[0,0,0],end:c=[0,0,0],mid:i,segments:a=20,...u},f){const v=o.useRef(null);o.useImperativeHandle(f,(()=>v.current));const[d]=o.useState((()=>new r.QuadraticBezierCurve3(void 0,void 0,void 0))),l=o.useCallback(((e,t,n,c=20)=>(e instanceof r.Vector3?d.v0.copy(e):d.v0.set(...e),t instanceof r.Vector3?d.v2.copy(t):d.v2.set(...t),n instanceof r.Vector3?d.v1.copy(n):Array.isArray(n)?d.v1.set(...n):d.v1.copy(d.v0.clone().add(d.v2.clone().sub(d.v0)).add(s.set(0,d.v0.y-d.v2.y,0))),d.getPoints(c))),[]);o.useLayoutEffect((()=>{v.current.setPoints=(e,t,r)=>{const n=l(e,t,r);v.current.geometry&&v.current.geometry.setPositions(n.map((e=>e.toArray())).flat())}}),[]);const y=o.useMemo((()=>l(t,c,i,a)),[t,c,i,a]);return o.createElement(n.Line,e({ref:v,points:y},u))}));exports.QuadraticBezierLine=i;
